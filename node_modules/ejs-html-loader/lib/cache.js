"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addDependencies = addDependencies;
exports.saveDependencies = saveDependencies;
var cache = {};

function addDependencies(ctx) {
  add(ctx, get(ctx));
}

function saveDependencies(ctx, deps) {
  add(ctx, save(ctx, deps));
}

function get(ctx) {
  return cache[ctx.resourcePath] || [];
}

function save(ctx) {
  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

  cache[ctx.resourcePath] = deps;
  return get(ctx);
}

function add(ctx, deps) {
  deps.forEach(function (name) {
    ctx.addDependency(name);
  });
}